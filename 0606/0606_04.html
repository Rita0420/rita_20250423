<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table,
        th,
        tr,
        td {
            border: 1px solid black;
            border-collapse: collapse;
        }

        table {
            width: 80vw;
            margin: auto;
            text-align: center;
        }

        img {
            width: 258px;
            height: 258px;
        }
    </style>
</head>

<body>

    <table>
        <tr>
            <th>id</th>
            <th>商品名稱</th>
            <th>商品圖</th>
            <th>價格</th>
            <th>數量</th>
            <th>金額</th>
        </tr>
        <tr>
            <td>1</td>
            <td>美式</td>
            <td>
                <img src="./img/americano.jpg" alt="">
            </td>
            <td>
                <div class="price">115</div>
            </td>
            <td>
                <input type="number" class="num" data-nam="americano" id="americano" data-price="115">
            </td>
            <td>
                <div class="money"></div>
            </td>
        </tr>
        <tr>
            <td>2</td>
            <td>拿鐵</td>
            <td>
                <img src="./img/latte.jpg" alt="">
            </td>
            <td>
                <div class="price">140</div>
            </td>
            <td>
                <input type="number" class="num" data-nam="latte" id="latte" data-price="140">
            </td>
            <td>
                <div class="money"></div>
            </td>
        </tr>
        <tr>
            <td>3</td>
            <td>焦糖瑪奇朵</td>
            <td>
                <img src="./img/macchiato.jpg" alt="">
            </td>
            <td>
                <div class="price">160</div>
            </td>
            <td>
                <input type="number" class="num" data-nam="macchiato" id="macchiato" data-price="160">
            </td>
            <td>
                <div class="money"></div>
            </td>
        </tr>
        <tr>
            <td>
                <h4>總金額</h4>
            </td>
            <td colspan="2" class="total">
                
            </td>
            <td colspan="3">
                <button type="button" id="btn">送出</button>
            </td>
        </tr>
    </table>
    

     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>

    <script>

        $(document).ready(function () {
            
           const number = $('.num');
           const money = $('.money');

           number.change(function(){
            console.log('number ok');
            let numValue = Number($(this).val());
            console.log('numValue',numValue);
            let price = Number($(this).attr('data-price'))
            console.log('price',price);
            let result = numValue*price;

            let tmpTr = $(this).parent().parent();
            let tmpMoney = tmpTr.find('.money');

            tmpMoney.text(result)
            
           })
        })
    </script>
</body>

</html>